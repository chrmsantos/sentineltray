# Template de configuração local (copie para %USERPROFILE%\AppData\Local\AxonZ\SentinelTray\UserData\config.local.yaml)
# Edite os valores abaixo e reinicie o app.

# Janela alvo (regex). Pode usar apenas o prefixo do título, desde que não coincida com outra janela aberta. Use aspas simples para evitar escapes do YAML.
window_title_regex: 'Nome da janela a ser monitorada'

# Filtro de texto (regex). Vazio significa qualquer texto.
phrase_regex: 'String a ser monitorada'

# Intervalo de polling em segundos.
poll_interval_seconds: 180

# Intervalo de healthcheck em segundos.
healthcheck_interval_seconds: 3650

# Backoff em erros consecutivos.
error_backoff_base_seconds: 5
error_backoff_max_seconds: 300

# Debounce de mensagens repetidas.
debounce_seconds: 600

# Maximo de eventos no historico em memoria.
max_history: 50

# Arquivo de estado local (UserData).
state_file: "state.json"

# Arquivo de telemetria local. Logs e status ficam em UserData\logs.
telemetry_file: "logs/telemetry.json"

# Exportacao de status em JSON (para integracoes locais).
status_export_file: "logs/status.json"

# Exportacao de status em CSV.
status_export_csv: "logs/status.csv"

# Intervalo de refresh do status (segundos).
status_refresh_seconds: 1

# Permite restaurar janela minimizada para leitura.
allow_window_restore: true

# Inicia minimizado na bandeja do Windows.
start_minimized: true

# Inicia automaticamente ao fazer login no Windows.
auto_start: true

# Modo somente log (nao envia email).
log_only_mode: false

# Configuracao de logs.
log_file: "logs/sentineltray.log"
log_level: "INFO"
log_console_level: "WARNING"
log_console_enabled: true
log_max_bytes: 5000000
log_backup_count: 5
log_run_files_keep: 5

# Checksum do config.local.yaml para auditoria.
config_checksum_file: "logs/config.checksum"

# Espaco minimo em disco para gravacao (MB).
min_free_disk_mb: 100

# Modo silencioso (não abre janela de erro).
show_error_window: true

# Watchdog para travas longas.
watchdog_timeout_seconds: 60
watchdog_restart: true

email:
  # Exemplo Gmail (SMTP):
  # smtp_host: "smtp.gmail.com"
  # smtp_port: 587
  # smtp_username: "seu.usuario@gmail.com"
  # smtp_password: "sua_senha_de_app"
  # from_address: "seu.usuario@gmail.com"
  # to_addresses: ["destinatario@gmail.com"]
  # use_tls: true
  smtp_host: "smtp.exemplo.local"
  smtp_port: 587
  smtp_username: "usuario"
  smtp_password: ""
  from_address: "sentineltray@exemplo.local"
  to_addresses: ["operador@exemplo.local"]
  use_tls: true
  timeout_seconds: 45
  subject: "SentinelTray Notification"
  retry_attempts: 3
  retry_backoff_seconds: 5
  dry_run: false
